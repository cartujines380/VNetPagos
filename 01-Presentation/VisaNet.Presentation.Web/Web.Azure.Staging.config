<?xml version="1.0" encoding="utf-8"?>
<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">

  <system.web>
    <compilation xdt:Transform="RemoveAttributes(debug)" />
    <sessionState mode="InProc" timeout="5" xdt:Transform="Replace" xdt:Locator="Match(mode)" />
    <authentication mode="Forms">
      <forms loginUrl="~/Account/LogIn" timeout="5" slidingExpiration="true" xdt:Transform="Replace" xdt:Locator="Match(loginUrl)" />
    </authentication>
    <httpCookies requireSSL="true" xdt:Transform="Insert" />
  </system.web>

  <webapiservices>
    <client>
      <add name="WebFaq" address="https://staging-api.vnet.uy/api/WebFaq" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebPage" address="https://staging-api.vnet.uy/api/WebPage" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebSubscriber" address="https://staging-api.vnet.uy/api/WebSubscriber" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebContact" address="https://staging-api.vnet.uy/api/WebContact" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebRegisterUser" address="https://staging-api.vnet.uy/api/WebRegisterUser" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebApplicationUser" address="https://staging-api.vnet.uy/api/WebApplicationUser" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebPayment" address="https://staging-api.vnet.uy/api/WebPayment" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebService" address="https://staging-api.vnet.uy/api/WebService" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebBill" address="https://staging-api.vnet.uy/api/WebBill" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebServiceAssosiate" address="https://staging-api.vnet.uy/api/WebServiceAssosiate" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebGateway" address="https://staging-api.vnet.uy/api/WebGateway" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebAutoComplete" address="https://staging-api.vnet.uy/api/WebAutoComplete" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebNotification" address="https://staging-api.vnet.uy/api/WebNotification" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebCard" address="https://staging-api.vnet.uy/api/WebCard" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebSystemUser" address="https://staging-api.vnet.uy/api/WebSystemUser" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebLog" address="https://staging-api.vnet.uy/api/WebLog" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebAnonymousUser" address="https://staging-api.vnet.uy/api/WebAnonymousUser" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebBin" address="https://staging-api.vnet.uy/api/WebBin" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebDiscount" address="https://staging-api.vnet.uy/api/WebDiscount" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebQuotation" address="https://staging-api.vnet.uy/api/WebQuotation" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebPromotion" address="https://staging-api.vnet.uy/api/WebPromotion" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebHomePage" address="https://staging-api.vnet.uy/api/WebHomePage" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebParameter" address="https://staging-api.vnet.uy/api/WebParameter" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebLocation" address="https://staging-api.vnet.uy/api/WebLocation" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebHighway" address="https://staging-api.vnet.uy/api/WebHighway" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebWebhookLog" address="https://staging-api.vnet.uy/api/WebWebhookLog" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebServiceExternal" address="https://staging-api.vnet.uy/api/WebServiceExternal" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebReport" address="https://staging-api.vnet.uy/api/WebReport" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebCyberSourceAccess" address="https://staging-api.vnet.uy/api/WebCyberSourceAccess" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebFixedNotification" address="https://staging-api.vnet.uy/api/WebFixedNotification" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebDebit" address="https://staging-api.vnet.uy/api/WebDebit" xdt:Transform="Replace" xdt:Locator="Match(name)" />
      <add name="WebVisaNetOnIntegration" address="https://staging-api.vnet.uy/api/WebVisaNetOnIntegration" xdt:Transform="Replace" xdt:Locator="Match(name)" />
    </client>
  </webapiservices>

  <appSettings>
    <add key="SharedImagesFolderVD" value="https://vnptesting.blob.core.windows.net/images/" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="RecaptchaSecretKey" value="6LcDGv4SAAAAAPObiCUcpYmpmFGThRi7v6cuIK5B" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="RecaptchaPublicKey" value="6LcDGv4SAAAAAMUkuT9QJAgJwVPpeb3Rbjc9f34F" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="RecaptchaUrl" value="https://www.google.com/recaptcha/api/siteverify?secret={0}&amp;response={1}" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="MailgunApiKey" value="key-4cf863b9a8d37b07314f9054fc0e0cd1" xdt:Transform="Replace" xdt:Locator="Match(key)" />

    <!--Separar por pipe '|' la lista -->
    <add key="UseProxyForTheseUrls" value="/recaptcha/api/siteverify" xdt:Transform="Replace" xdt:Locator="Match(key)" />

    <add key="ProxyServer" value="" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="ProxyUserName" value="App_visanetPagos" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="ProxyPassword" value="Hnf.j7s9X" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="UseProxyDomain" value="true" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="ProxyDomain" value="" xdt:Transform="Replace" xdt:Locator="Match(key)" />

    <!-- SFTP configuration -->
    <!-- TODO v cambiar -->
    <add key="HBSshPrivateKeyPath" value="E:\VisaNetPagos\certificados\bacoSftp" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="HBSshPrivateKeyName" value="App_VisanetPagos_SFTP.ppk" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="HBSFTPUserName" value="BACO\App_VisanetPagos" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="HBSFTPPassword" value="Server2015Iuk" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="HBSFTPHostName" value="192.168.104.174" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="HBSFTPPortNumber" value="22" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="HBSshHostKeyFingerprint" value="ssh-rsa 2048 07:b0:c3:ca:66:44:f9:49:ff:80:c9:f9:a1:a6:67:2b" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="HBSFTPLogPath" value="~/Logs/SFTPLogs.txt" xdt:Transform="Replace" xdt:Locator="Match(key)" />

    <add key="CsEnvironment" value="test" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="CybersourceFormUrl" value="https://testsecureacceptance.cybersource.com/" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="URLCallBackCyberSource" value="https://staging-web.vnet.uy/PaymentHandler" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="CsFingerprintRedirectUrl" value="https://h.online-metrix.net/" xdt:Transform="Replace" xdt:Locator="Match(key)" />

    <add key="GoogleAnalyticsKey" value="UA-63155096-2" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <!-- TODO v cambiar -->
    <add key="HighwayFile" value="E:\VisaNetPagos\HighwayFiles" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="IpForCallCenter" value="192.168.104.190;192.168.224.3;201.217.136.138;" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="ShowAppAd" value="false" xdt:Transform="Replace" xdt:Locator="Match(key)" />

    <!-- Graylog -->
    <add key="GraylogApiUri" value="http://10.168.114.4:12201/gelf" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="GraylogEnvironment" value="Staging/Web" xdt:Transform="Replace" xdt:Locator="Match(key)" />
    <add key="GraylogVersion" value="1.1" xdt:Transform="Replace" xdt:Locator="Match(key)" />
  </appSettings>

  <location>
    <system.webServer>
      <httpProtocol xdt:Transform="Insert" >
        <customHeaders>
          <add name="X-Content-Type-Options" value="nosniff" />
          <add name="Strict-Transport-Security" value="max-age=315360000" />
          <add name="Content-Security-Policy" value="default-src 'self' 'unsafe-inline' *.online-metrix.net; script-src 'self' 'unsafe-eval' 'unsafe-inline' *.google.com *.gstatic.com *.google-analytics.com *.online-metrix.net; frame-src 'self' https://www.google.com/ *.online-metrix.net;  img-src 'self' 'unsafe-inline' filesystem *.blob.core.windows.net *.google-analytics.com *.vnet.uy data: *.online-metrix.net; font-src 'self' data: ;" />
          <add name="X-XSS-Protection" value="1; mode=block" />
          <add name="Referrer-Policy" value="strict-origin" />
        </customHeaders>
      </httpProtocol>
    </system.webServer>
  </location>

  <system.net>
    <defaultProxy enabled="false" useDefaultCredentials="false" xdt:Transform="Insert" >
      <module type="VisaNet.Utilities.CustomProxy.CustomWebProxy, VisaNet.Utilities.CustomProxy" />
    </defaultProxy>
  </system.net>

</configuration>